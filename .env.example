# ====================================================================
# üîí VARI√ÅVEIS DE AMBIENTE - DIGIURBAN SYSTEM
# ====================================================================
# Copie este arquivo para .env e configure os valores
# NUNCA commite o arquivo .env com valores reais!
# ====================================================================

# ====================================================================
# üîê SEGURAN√áA & JWT
# ====================================================================

# JWT Secrets (OBRIGAT√ìRIO - GERE CHAVES SEGURAS!)
# Gere com: openssl rand -base64 32
JWT_SECRET=your-super-secure-jwt-secret-here-minimum-32-characters-long
JWT_REFRESH_SECRET=your-super-secure-refresh-secret-here-minimum-32-chars
JWT_EXPIRES_IN=24h
REFRESH_TOKEN_EXPIRES_IN=7d

# Cookie Security
COOKIE_SECRET=your-super-secure-cookie-secret-minimum-32-chars
COOKIE_DOMAIN=localhost

# ====================================================================
# üèõÔ∏è ADMIN INICIAL (Configure na primeira execu√ß√£o)
# ====================================================================

# Credenciais do admin inicial (REMOVER ap√≥s primeiro uso)
INITIAL_ADMIN_EMAIL=admin@yourdomain.com
INITIAL_ADMIN_PASSWORD=your-secure-password-here
INITIAL_ADMIN_NAME=Super Administrador
INITIAL_ADMIN_TENANT_CODE=ADMIN001
INITIAL_ADMIN_TENANT_NAME=Administra√ß√£o Central
INITIAL_ADMIN_TENANT_CNPJ=00.000.000/0001-00

# ====================================================================
# üåê CORS E URLs
# ====================================================================

# URLs permitidas pelo CORS (separadas por v√≠rgula)
CORS_ORIGIN=https://yourdomain.com,https://app.yourdomain.com

# URL base da API
VITE_API_URL=https://api.yourdomain.com/api

# ====================================================================
# üíæ BANCO DE DADOS
# ====================================================================

# PostgreSQL (Produ√ß√£o recomendada)
DB_HOST=localhost
DB_PORT=5432
DB_NAME=digiurban
DB_USER=digiurban_user
DB_PASSWORD=your-db-password-here

# SQLite (Desenvolvimento apenas)
DB_PATH=./data/digiurban.db

# ====================================================================
# ‚ö° REDIS (Rate Limiting & Cache)
# ====================================================================

REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=your-redis-password

# ====================================================================
# üìä LOGS E MONITORAMENTO
# ====================================================================

# N√≠vel de log (debug, info, warn, error)
LOG_LEVEL=info

# Prometheus metrics
ENABLE_METRICS=true
METRICS_PORT=9090

# ====================================================================
# üîí CONFIGURA√á√ïES DE SEGURAN√áA
# ====================================================================

# Rate Limiting
RATE_LIMIT_WINDOW=900000
RATE_LIMIT_MAX_ATTEMPTS=10
MAX_LOGIN_ATTEMPTS=5
LOCKOUT_DURATION=900000

# Timeouts
SESSION_TIMEOUT=86400000
PASSWORD_RESET_TOKEN_EXPIRES_IN=3600000

# Senha
PASSWORD_MIN_LENGTH=8
PASSWORD_REQUIRE_UPPERCASE=true
PASSWORD_REQUIRE_NUMBERS=true
PASSWORD_REQUIRE_SPECIAL=true

# ====================================================================
# üìß EMAIL (Configura√ß√£o futura)
# ====================================================================

SMTP_HOST=smtp.yourdomain.com
SMTP_PORT=587
SMTP_USER=noreply@yourdomain.com
SMTP_PASSWORD=your-smtp-password
SMTP_FROM=noreply@yourdomain.com

# ====================================================================
# üê≥ DOCKER & DEPLOYMENT
# ====================================================================

# Vers√£o da aplica√ß√£o
APP_VERSION=1.0.0

# Environment
NODE_ENV=production

# Porta da aplica√ß√£o
PORT=3021

# ====================================================================
# üß™ DESENVOLVIMENTO (Apenas desenvolvimento)
# ====================================================================

# Habilitar logs debug
ENABLE_DEBUG_LOGS=true

# Bypass de valida√ß√µes (APENAS desenvolvimento)
BYPASS_EMAIL_CONFIRMATION=false

# ====================================================================
# üí° INSTRU√á√ïES
# ====================================================================

# 1. Copie este arquivo para .env
# 2. Configure todas as vari√°veis marcadas como OBRIGAT√ìRIO
# 3. Gere chaves JWT seguras com: openssl rand -base64 32
# 4. Configure o banco de dados
# 5. Execute: npm run db:migrate && npm run db:seed
# 6. REMOVER as vari√°veis INITIAL_ADMIN_* ap√≥s primeiro uso
# 7. Manter este arquivo atualizado quando adicionar novas vari√°veis